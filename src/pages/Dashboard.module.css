/* ─────────────────────────────────────────────────────
 *  Dashboard layout  —  Kinetic AI Brain Interface
 *
 *  ┌────────────────────┬───────────────────────────────┐
 *  │  Command Feed  30% │       Brain + Flow  70 %       │
 *  └────────────────────┴───────────────────────────────┘
 *  Operations log: collapsible right-edge drawer (overlay)
 * ───────────────────────────────────────────────────── */

.dashboard {
  position: relative;
  display: flex;
  flex-direction: column;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  background: #08101e;
}

/* ── Progress bar ─────────────────────────────────────── */

.progressBar {
  position: fixed;
  top: 0;
  left: 0;
  height: 2px;
  width: 0%;
  z-index: 100;
  background: linear-gradient(to right, #0d9488, #22d3ee);
  transition: width 0.5s ease, opacity 0.4s ease;
  opacity: 0;
}

.s_planning   .progressBar { width: 15%;  opacity: 1; }
.s_executing  .progressBar { width: 60%;  opacity: 1; }
.s_synthesizing .progressBar { width: 85%; opacity: 1; }
.s_complete   .progressBar { width: 100%; opacity: 0.5; }
.s_error      .progressBar { width: 100%; background: #ef4444; opacity: 0.7; }

/* ── Full-canvas energy overlay ───────────────────────── */

.energyOverlay {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 1;
  opacity: 0;
  transition: opacity 0.6s ease, background 0.6s ease;
}

.s_executing .energyOverlay {
  opacity: 1;
  background:
    radial-gradient(ellipse 35% 70% at 30% 50%, rgba(20,184,166,0.04) 0%, transparent 70%);
}

.s_synthesizing .energyOverlay {
  opacity: 1;
  background:
    radial-gradient(ellipse 28% 60% at 30% 50%, rgba(20,184,166,0.02) 0%, transparent 60%),
    radial-gradient(ellipse 28% 60% at 70% 50%, rgba(99,102,241,0.05) 0%, transparent 60%);
}

.s_complete .energyOverlay {
  opacity: 0.6;
  background: radial-gradient(ellipse 60% 60% at 50% 50%, rgba(13,148,136,0.02) 0%, transparent 70%);
}

/* ── Vignette ─────────────────────────────────────────── */

.dashboard::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
  background:
    radial-gradient(ellipse 120% 120% at 50% 50%, transparent 55%, rgba(3,8,18,0.65) 100%);
}

/* ── Main 3-column grid ───────────────────────────────── */

.main {
  position: relative;
  z-index: 3;
  flex: 1;
  display: grid;
  grid-template-columns: 30fr 70fr;
  min-height: 0;
}

/* ── Column slots ─────────────────────────────────────── */

.cmdFeed,
.brain {
  min-height: 0;
  overflow: hidden;
  transition: opacity 0.4s ease, filter 0.4s ease;
}

.cmdFeed {
  border-right: 1px solid #0b1828;
}

/* Brain is always full presence */
.brain {
  position: relative;
}

/* Dim command feed during intense processing */
.s_executing .cmdFeed,
.s_synthesizing .cmdFeed {
  opacity: 0.65;
  filter: brightness(0.9);
}
